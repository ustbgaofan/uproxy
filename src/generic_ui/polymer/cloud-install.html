<link rel="import" href="../../bower/iron-overlay-behavior/iron-overlay-behavior.html">
<link rel="import" href="../../bower/iron-signals/iron-signals.html">
<link rel="import" href="../../bower/paper-progress/paper-progress.html">
<link rel="import" href="../../bower/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../../bower/polymer/polymer.html">
<link rel="import" href="button.html">

<dom-module id="uproxy-cloud-install">
  <style>
    :host {
      text-align: start;
    }
    core-overlay {
      height: 100%;
      width: 100%;
      background-color: white;
    }
    paper-progress {
      width: 100%;
    }
    paper-radio-button {
      width: 100%;
      padding: 6px 12px !important;
    }
    .content {
      margin: 2em;
    }
    uproxy-button {
      background-color: #34AFCE;  /* blue */
      margin: 4px 0;
      padding: 0.5em;
      width: 100%;
      font-size: 14px;
    }
    paper-checkbox {
      margin: 0 0 4px;
    }
    hr {
      margin: 20px 0;
      color: #eee;
      border-style: solid;
    }
    h1 {
      color: #003C48;
      font-weight: 400;
      font-size: 20px;
      line-height: 30px;
    }
    p {
      line-height: 1.75em;
    }
    #regionMenu {
      font-size: 16px;
    }
    .imgWrapper {
      text-align: center;
    }
    .imgWrapper img {
      margin: 1em 0.5em 1em 0.5em;
    }
    paper-progress::shadow #activeProgress {
      background-color: #34AFCE !important;  /* blue */
    }
    paper-radio-button[checked]::shadow #onRadio {
      background-color: #34AFCE;  /* blue */
    }
    paper-radio-button[checked]::shadow #offRadio {
      border-color: #34AFCE;  /* blue */
    }
    uproxy-faq-link {
      color: #12A391;
    }
    .warning {
      font-weight: bold;
    }
    </style>
  <template>

    <iron-signals on-core-signal-open-cloud-install=" open "></iron-signals>

    <iron-overlay-behavior id="getStartedOverlay">
      <uproxy-app-bar on-go-back=" back " color="#34AFCE">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/uproxy+digitalocean.svg">
        </div>
        <h1>{{_computeExpression2()}}</h1>
        <p id="getStartedMessage"></p>
        <paper-checkbox id="havePromoCode" label="{{_computeLabel()}}" on-change="havePromoChanged"></paper-checkbox>
        <uproxy-button raised="" on-tap=" launchDigitalOceanSignup ">
          <span>{{_computeExpression3()}}</span>
        </uproxy-button>
        <uproxy-button raised="" on-tap=" showLoginOverlay ">
          <span>{{_computeExpression4()}}</span>
        </uproxy-button>
        <hr>
        <h1>{{_computeExpression5()}}</h1>
        <p id="existingServerMessage"></p>
      </div>
    </iron-overlay-behavior>

    <iron-overlay-behavior id="loginOverlay">
      <uproxy-app-bar on-go-back=" back " color="#34AFCE">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/location-circle.svg">
        </div>
        <h1>{{_computeExpression7()}}</h1>
        <div>
          <paper-radio-group id="regionMenu" selected="sgp1">
            <!-- TODO: get available regions from DigitalOcean -->
            <paper-radio-button name="sgp1" label="{{_computeLabel2()}}"></paper-radio-button>
            <paper-radio-button name="blr1" label="{{_computeLabel3()}}"></paper-radio-button>
            <paper-radio-button name="ams2" label="{{_computeLabel4()}}"></paper-radio-button>
            <paper-radio-button name="nyc2" label="{{_computeLabel5()}}"></paper-radio-button>
          </paper-radio-group>
        </div>
        <p id="loginMessage"></p>
        <!-- TODO: add learn more links -->
        <uproxy-button raised="" on-tap=" loginTapped ">
          <span>{{_computeExpression8()}}</span>
        </uproxy-button>
      </div>
    </iron-overlay-behavior>

    <iron-overlay-behavior id="installingOverlay">
      <uproxy-app-bar color="#34AFCE" disableback="true">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/loading-circle.svg">
        </div>
        <h1>{{_computeExpression10()}}</h1>
        <p class="warning">{{_computeExpression11()}}</p>
        <p>{{_computeExpression12()}}</p>
        <div>
          <paper-progress id="installProgress" value="{{ ui.cloudInstallProgress }}"></paper-progress>
        </div>
        <p>{{ ui.cloudInstallStatus }}</p>
        <uproxy-button on-tap=" cancelCloudInstall ">{{_computeExpression28()}}</uproxy-button>
      </div>
    </iron-overlay-behavior>

    <iron-overlay-behavior id="successOverlay">
      <uproxy-app-bar on-go-back=" back " color="#34AFCE">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/ready-circle.svg">
        </div>
          <h1>{{_computeExpression16()}}</h1>
        <!-- TODO: show IP address -->
        <p>{{_computeExpression17()}}</p>
        <!-- TODO: add start getting access button -->
        <uproxy-button on-tap=" closeOverlays ">{{_computeExpression18()}}</uproxy-button>
      </div>
    </iron-overlay-behavior>

    <iron-overlay-behavior id="failureOverlay">
      <uproxy-app-bar on-go-back=" back " color="#34AFCE">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/error-circle-ic.svg">
        </div>
        <h1>{{_computeExpression20()}}</h1>
        <p>{{_computeExpression21()}}</p>
        <uproxy-button raised="" on-tap=" loginTapped ">
          <span>{{_computeExpression22()}}</span>
        </uproxy-button>
        <uproxy-button raised="" on-tap=" launchDigitalOceanSettings ">
          <span>{{_computeExpression23()}}</span>
        </uproxy-button>
      </div>
    </iron-overlay-behavior>

    <iron-overlay-behavior id="serverExistsOverlay">
      <uproxy-app-bar on-go-back=" back " color="#34AFCE">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/error-circle-ic.svg">
        </div>
        <h1>{{_computeExpression25()}}</h1>
        <p>{{_computeExpression26()}}</p>
        <uproxy-button raised="" on-tap=" removeServerAndInstallAgain ">
          <span>{{_computeExpression27()}}</span>
        </uproxy-button>
        <uproxy-button raised="" on-tap=" closeOverlays ">
          <span>{{_computeExpression28()}}</span>
        </uproxy-button>
      </div>
    </iron-overlay-behavior>


    <iron-overlay-behavior id="cancelingOverlay">
      <uproxy-app-bar color="#34AFCE" disableback="true">
        <span>{{_computeExpression29()}}</span>
      </uproxy-app-bar>

      <div class="content">
        <div class="imgWrapper">
          <img src="../../icons/cloud/error-circle-ic.svg">
        </div>
        <h1>{{_computeExpression30()}}</h1>
        <p>{{_computeExpression31()}}</p>
      </div>
    </iron-overlay-behavior>

  </template>
  <script src="cloud-install.js"></script>
</dom-module>
